<header class="bg-[#010409] py-3 px-4">
  <div class="flex items-center justify-between gap-4">

    <!-- Left Section: Hamburger, Logo, User Context -->
    <div class="flex items-center gap-4">
      <button class="p-1 text-gh-text-secondary hover:text-gh-text border border-gh-border rounded-md">
        <svg aria-hidden="true" height="24" viewBox="0 0 16 16" version="1.1" width="24" class="fill-current">
          <path
            d="M1 2.75A.75.75 0 0 1 1.75 2h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 2.75Zm0 5A.75.75 0 0 1 1.75 7h12.5a.75.75 0 0 1 0 1.5H1.75A.75.75 0 0 1 1 7.75Zm0 5A.75.75 0 0 1 1.75 12h12.5a.75.75 0 0 1 0 1.5H1.75a.75.75 0 0 1-.75-.75Z">
          </path>
        </svg>
      </button>

      <div class="flex items-center gap-3">
        <a href="#" class="text-white hover:text-gray-300 transition-colors">
          <svg height="32" viewBox="0 0 16 16" width="32" class="fill-current">
            <path
              d="M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z">
            </path>
          </svg>
        </a>
        <span
          class="text-sm font-semibold text-white px-2 py-1 hover:bg-gray-800 rounded-md cursor-pointer transition-colors">
          {{ currentUser?.login || '' }}
        </span>
      </div>
    </div>

    <!-- Right Section: Search & Icons -->
    <div class="flex items-center gap-3">

      <!-- Search Bar -->
      <div class="relative hidden md:block group">
        <!-- Visual Overlay -->
        <div *ngIf="!searchFocused && !searchValue"
          class="absolute inset-0 flex items-center px-2 rounded-md border border-gh-border bg-[#0d1117] pointer-events-none group-hover:border-gray-500 transition-colors">
          <div class="flex items-center gap-1.5 text-gray-500 text-sm w-full">
            <span class="ml-1">Type </span>
            <span class="border border-gray-600 rounded px-1.5 text-xs font-mono">/</span>
            <span> to search</span>
          </div>
        </div>

        <!-- Input -->
        <input #searchInput type="text"
          class="bg-[#0d1117] border border-gh-border rounded-md px-3 py-1.5 text-sm text-gh-text focus:border-gh-link focus:outline-none w-[320px] transition-all"
          [class.opacity-0]="!searchFocused && !searchValue" (keyup.enter)="onSearch({ target: searchInput })"
          (focus)="onFocus()" (blur)="onBlur()" (input)="onInput($event)">
      </div>

      <!-- Action Icons -->
      <div class="flex items-center gap-1">
        <!-- New (Plus) -->
        <button
          class="p-2 text-gh-text-secondary hover:text-gh-text hover:bg-gray-800 rounded-md transition-colors border border-transparent border-gh-border">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" class="fill-current">
            <path
              d="M7.75 2a.75.75 0 0 1 .75.75V7h4.25a.75.75 0 0 1 0 1.5H8.5v4.25a.75.75 0 0 1-1.5 0V8.5H2.75a.75.75 0 0 1 0-1.5H7V2.75A.75.75 0 0 1 7.75 2Z">
            </path>
          </svg>
        </button>

        <!-- Issues -->
        <button
          class="p-2 text-gh-text-secondary hover:text-gh-text hover:bg-gray-800 rounded-md transition-colors border border-transparent border-gh-border">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" class="fill-current">
            <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"></path>
            <path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0ZM1.5 8a6.5 6.5 0 1 1 13 0 6.5 6.5 0 0 1-13 0Z"></path>
          </svg>
        </button>

        <!-- Pull Requests -->
        <button
          class="p-2 text-gh-text-secondary hover:text-gh-text hover:bg-gray-800 rounded-md transition-colors border border-transparent border-gh-border">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" class="fill-current">
            <path
              d="M7.177 3.073L9.573.677A.25.25 0 0 1 10 .854v4.792a.25.25 0 0 1-.427.177L7.177 3.427a.25.25 0 0 1 0-.354ZM3.75 2.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm-2.25.75a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0Zm2.25 7.5a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Zm-2.25.75a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0ZM8.75 11.109v-5.04a2.25 2.25 0 0 1 2.25-2.25h1.75a2.25 2.25 0 0 1 2.25 2.25v1.25a2.25 2.25 0 0 1-2.25 2.25h-2.5a.75.75 0 0 1 0-1.5h2.5a.75.75 0 0 0 .75-.75V6.069a.75.75 0 0 0-.75-.75h-1.75a.75.75 0 0 0-.75.75v5.04a2.25 2.25 0 0 1-2.25 2.25H4.942a.75.75 0 0 1 0-1.5h2.558a.75.75 0 0 0 .75-.75Z">
            </path>
          </svg>
        </button>

        <!-- Inbox -->
        <button
          class="p-2 text-gh-text-secondary hover:text-gh-text hover:bg-gray-800 rounded-md transition-colors border border-transparent border-gh-border">
          <svg aria-hidden="true" height="16" viewBox="0 0 16 16" version="1.1" width="16" class="fill-current">
            <path
              d="M1.75 2h12.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 14.25 14H1.75A1.75 1.75 0 0 1 0 12.25v-8.5C0 2.784.784 2 1.75 2Zm0 1.5v.943l4.606 2.879a2.5 2.5 0 0 0 2.688 0l4.606-2.879V3.5H1.75Zm12.5 1.789l-4.213 2.633a4 4 0 0 1-4.274 0L1.75 5.289V12.25a.25.25 0 0 0 .25.25h12.5a.25.25 0 0 0 .25-.25V5.289Z">
            </path>
          </svg>
        </button>

        <!-- Avatar -->
        <button class="ml-2" *ngIf="currentUser">
          <div class="w-5 h-5 rounded-full bg-gray-600 border border-gray-300 overflow-hidden">
            <img [src]="currentUser.avatarUrl" alt="Profile" class="w-full h-full object-cover">
          </div>
        </button>
      </div>

    </div>

  </div>
</header>